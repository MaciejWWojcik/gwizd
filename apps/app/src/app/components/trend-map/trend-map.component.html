<ng-container *ngIf="vm$ | async as vm">
  <section class="map-container">
    <div id="map"></div>

    <div class="controls">
      <button mat-mini-fab color="primary" (click)="vm.playing ? onPause() : onPlay()">
        <svg *ngIf="!vm.playing" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 -960 960 960">
          <path d="M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z" />
        </svg>
        <svg *ngIf="vm.playing" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 -960 960 960">
          <path
            d="M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z" />
        </svg>
      </button>

      <div class="slider">
        <mat-slider [min]="0" [max]="vm.totalFrames - 1" step="1">
          <input matSliderThumb (ngModelChange)="setFrame($event)" [ngModel]="vm.currentFrame">
        </mat-slider>
      </div>
    </div>

    <div class="timestamp-indicator">
      <img src="/assets/markers/calendar.svg">
      <span>{{vm.timestamp | date:'dd.MM.yyyy | HH:mm'}} </span>
    </div>
  </section>

</ng-container>
